---
area: impl
category: interactions
level: 1
title: フォーカスインジケーター
slug: focus-indicator
---

import Checkpoint from "../../../components/Checkpoint.astro";
import Level from "../../../components/Level.astro";

#### チェック項目

<Checkpoint>
  {/* prettier-ignore */}
  <span slot="title">フォーカスインジケーターを非表示にしない</span>
</Checkpoint>

<Checkpoint>
  {/* prettier-ignore */}
  <span slot="title">フォーカスインジケーターを抑制するために`HTMLElement.blur()`を用いない</span>
</Checkpoint>

<Checkpoint>
  {/* prettier-ignore */}
  <span slot="title">フォーカスを受け取ったUIが他の要素によって完全に隠されてはいけない</span>
</Checkpoint>

#### 「{frontmatter.title}」とは

<Level level={frontmatter.level} />

フォーカスインジケーターが不可視にされていると、キーボードユーザーはフォーカスの現在位置がわからず、操作を続けることができなくなってしまいます。

また、フォーカスインジケーターを取り除くために`HTMLElement.blur()`を使用すると、フォーカス位置が失われ、キーボード操作を再度先頭からやり直さなければいけなくなってしまうかもしれません。

##### ヒント：キーボード操作時だけフォーカスのスタイルを適用する

`:focus`疑似クラスを使用すると、マウスやタッチ操作で選択したときにもスタイルが適用されます。キーボード操作時のみスタイルを適用したい場合、かわりに`:focus-visible`疑似クラスを使用します。

##### ヒント：フォーカスを受け取ったUIが追従コンテンツによって隠されないようにする

ページをTabキーで下に移動すると、フォーカスの当たった要素が表示領域に収まるようにスクロールを伴いますが、追従ヘッダ等がある場合、それによってフォーカスされたUIが隠れてしまうケースがあります。このような場合、`scroll-padding`プロパティを設定することで要素の重なりを回避することができます。

##### ヒント：Cookieの利用同意を求めるモーダルダイアログにフォーカスを移動する

Cookie利用同意のポップアップはしばしばダイアログとして実装され、ページの読み込み後すぐに表示されます。 このダイアログを背面と対話可能なモードレスダイアログとして実装すると、背面のUIがダイアログに完全に隠され、操作が困難になる可能性があります。この問題を回避するため、ダイアログはモーダルとして実装し、閉じるまでフォーカスが外側のコンテンツに移動しないようにすることが推奨されます。
